<ns-action-bar
  [title]="items.length > 0 ? 'Score ' + totalScore + '/' + maxScore : ''"
  [showBackButton]="true"
>
</ns-action-bar>

<GridLayout rows="auto, *, auto" columns="*">
  <Label class="cards-remaining" row="0" col="0" *ngIf="items.length > 0"
    >{{ currentItemIndex + 1 }} / {{ items.length }}</Label
  >
  <StackLayout
    row="1"
    col="0"
    class="container"
    verticalAlignment="center"
    horizontalAlignment="center"
  >
    <FlexboxLayout flexDirection="column" class="card" *ngIf="selectedItem">
      <FlexboxLayout
        class="m-15"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
        <Label class="h1" [text]="selectedItem.nameKatakana"></Label>
      </FlexboxLayout>
      <FlexboxLayout
        class="m-15"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
        <Label class="h1" [text]="selectedItem.nameHiragana"></Label>
      </FlexboxLayout>
      <FlexboxLayout
        class="m-15"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
        <Label class="h1" [text]="showHint ? selectedItem.emoji : '?'"></Label>
      </FlexboxLayout>
      <FlexboxLayout
        class="m-15"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
      </FlexboxLayout>
      <FlexboxLayout
        class="m-15"
        flexDirection="column"
        justifyContent="center"
        alignItems="center"
      >
        <Label
          class="h2"
          [text]="showRomaji ? selectedItem.nameRomaji : '?'"
        ></Label>
      </FlexboxLayout>
    </FlexboxLayout>
    <StackLayout
      *ngIf="!selectedItem"
      horizontalAlignment="center"
      verticalAlignment="center"
    >
      <Button
        row="1"
        col="0"
        *ngIf="!items || items.length === 0"
        text="Add some groceries!"
        class="edit-groceries-cta bounce"
        [nsRouterLink]="['/edit-groceries']"
      ></Button>
    </StackLayout>
  </StackLayout>

  <StackLayout class="controls" row="2" col="0" *ngIf="items.length > 0">
    <FlexboxLayout
      flexDirection="row"
      justifyContent="space-between"
      alignItems="center"
    >
      <Button
        text="Hint 1"
        (tap)="toggleRomaji()"
        class="hint-btn"
        [class.-primary]="showRomaji"
        [class.striked-through]="showRomaji"
      ></Button>
      <Button
        text="Hint 2"
        (tap)="toggleHint()"
        class="hint-btn"
        [class.-primary]="showHint"
        [class.striked-through]="showHint"
        *ngIf="showRomaji"
      ></Button>
    </FlexboxLayout>

    <FlexboxLayout
      flexDirection="row"
      justifyContent="center"
      alignItems="center"
    >
      <Button class="next-card" text="Reveal answer" (tap)="openAnswerModal()"></Button>
    </FlexboxLayout>
  </StackLayout>
</GridLayout>

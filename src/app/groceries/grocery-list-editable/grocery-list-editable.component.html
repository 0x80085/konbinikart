<ActionBar title="Edit grocery list">
  <NavigationButton
    android.systemIcon="ic_menu_back"
    (tap)="goBack()"
  ></NavigationButton>
</ActionBar>

<StackLayout orientation="vertical" class="content">
  <GridLayout columns="*" rows="auto">
    <StackLayout orientation="horizontal">
      <TextField
        class="searchField"
        #searchField
        hint="ðŸ”Žï¸Ž Search"
        [(ngModel)]="searchQuery"
        (textChange)="onSearchInputChange($event)"
      ></TextField>
      <Button class="clearSearch" text="X" (tap)="onClearSearch()"></Button>
    </StackLayout>
  </GridLayout>
  <GridLayout class="p-15">
    <ListView [items]="displayList">
      <ng-template let-item="item">
        <StackLayout class="item">
          <StackLayout class="inner-stacklayout">
            <Label
              class="h1"
              [text]="item.emoji"
              textAlignment="center"
            ></Label>
            <Label
              class="h2"
              [text]="item.nameHiragana"
              textAlignment="center"
            ></Label>
            <Label
              class="h2"
              [text]="item.nameKatakana"
              textAlignment="center"
            ></Label>
            <Label
              [text]="item.nameRomaji"
              textAlignment="center"
            ></Label>
            <Label
              class="h3"
              [text]="item.nameEnglish"
              textAlignment="center"
            ></Label>
            <Button
              class="item-btn add"
              [class.-primary]="!item.isInStorage"
              *ngIf="!item.isInStorage"
              text="Add to list"
              (tap)="onAddItem(item)"
            ></Button>
            <Button
              class="item-btn"
              [class.delete]="item.isInStorage"
              *ngIf="item.isInStorage"
              text="Delete from list"
              (tap)="onDelete(item.id)"
            ></Button>
          </StackLayout>
        </StackLayout>
      </ng-template>
    </ListView>
  </GridLayout>
</StackLayout>

<ActionBar title="Edit grocery list">
  <NavigationButton
    android.systemIcon="ic_menu_back"
    (tap)="goBack()"
  ></NavigationButton>
</ActionBar>

<StackLayout orientation="vertical">
  <GridLayout columns="*" rows="auto">
    <TextField
      hint="Search"
      [(ngModel)]="searchQuery"
      (textChange)="onSearchInputChange($event)"
    ></TextField>
  </GridLayout>
  <GridLayout class="p-15">
    <ListView [items]="displayList">
      <ng-template let-item="item">
        <StackLayout class="item" [class.item-added]="item.isInStorage">
          <Label class="h1" [text]="item.emoji" textAlignment="center"></Label>
          <Label class="h2" [text]="item.nameEnglish" textAlignment="center"></Label>
          <Label
            [text]="item.nameRomaji"
            textAlignment="center"
            [nsRouterLink]="['/grocery-item', item.id]"
          ></Label>
          <Label
          class="h3"
            [text]="item.nameHiragana"
            textAlignment="center"
            [nsRouterLink]="['/grocery-item', item.id]"
          ></Label>
          <Label
          class="h3"
            [text]="item.nameKatakana"
            textAlignment="center"
            [nsRouterLink]="['/grocery-item', item.id]"
          ></Label>
          <Button
            *ngIf="!item.isInStorage"
            text="🛒 Add to list"
            (tap)="onAddItem(item)"
          ></Button>
          <Button
            *ngIf="item.isInStorage"
            text="❌ Delete from list"
            (tap)="onDelete(item.id)"
          ></Button>
        </StackLayout>
      </ng-template>
    </ListView>
  </GridLayout>
</StackLayout>
